{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "usermeta": {
    "deneb": {
      "build": "1.6.2.1",
      "metaVersion": 1,
      "provider": "vegaLite",
      "providerVersion": "5.16.3"
    },
    "interactivity": {
      "tooltip": true,
      "contextMenu": true,
      "selection": true,
      "highlight": true,
      "dataPointLimit": 200
    },
    "information": {
      "name": "Bar with Target and date dimension breakdown",
      "description": "The top part of this visual shows a bar against a target line, the lower shows a weekly breakdown of the data",
      "author": "Ben Ferry",
      "uuid": "b3a64a4a-d3aa-4c38-b952-d4c90396aa36",
      "generated": "2024-06-08T10:29:13.090Z",
      "previewImageBase64PNG": "data:image/png;base64,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"
    },
    "dataset": [
      {
        "key": "__0__",
        "name": "Date dim",
        "description": "",
        "type": "numeric",
        "kind": "column"
      },
      {
        "key": "__1__",
        "name": "Metrics Av",
        "description": "DAX Average calculation with ALL on the the axis dimension",
        "type": "numeric",
        "kind": "measure"
      },
      {
        "key": "__2__",
        "name": "Metrics",
        "description": "the metric you are measuring",
        "type": "numeric",
        "kind": "measure"
      }
    ]
  },
  "config": {
    "view": {"stroke": "transparent"},
    "arc": {},
    "bar": {"color": "#454545"},
    "area": {
      "line": true,
      "opacity": 0.6
    },
    "line": {
      "strokeWidth": 3,
      "strokeCap": "round",
      "strokeJoin": "round"
    },
    "path": {},
    "point": {
      "filled": true,
      "size": 75
    },
    "rect": {},
    "shape": {},
    "symbol": {
      "strokeWidth": 1.5,
      "size": 50
    },
    "text": {
      "fontSize": 12,
      "fill": "#605E5C"
    },
    "axis": {
      "ticks": false,
      "grid": false,
      "domain": false,
      "labelColor": "#605E5C",
      "labelFontSize": 10,
      "titleColor": "#252423",
      "titleFontSize": 12,
      "titleFontWeight": "normal"
    },
    "axisX": {
      "labelPadding": 5,
      "orient": "bottom",
      "labelAngle": 0
    },
    "axisY": {"labelPadding": 10},
    "header": {
      "titleFontSize": 16,
      "titleColor": "#252423",
      "labelFontSize": 13.333333333333332,
      "labelColor": "#605E5C"
    },
    "legend": {
      "titleFontWeight": "bold",
      "titleColor": "#605E5C",
      "labelFontSize": 13.333333333333332,
      "labelColor": "#605E5C",
      "symbolType": "circle",
      "symbolSize": 75
    }
  },
  "data": {"name": "dataset"},
  "transform": [
    {
      "calculate": "(5)",
      "as": "_Target"
    }
  ],
  "vconcat": [
    {
      "title": {
        "text": "Player Average vs Target",
        "anchor": "middle",
        "color": "#454545",
        "subtitle": "Average points scored of players who played more than 65 mins",
        "subtitleColor": "#454545"
      },
      "width": 400,
      "height": 30,
      "layer": [
        {
          "mark": {
            "type": "rect",
            "color": "#454545",
            "height": 1,
            "opacity": 1,
            "yOffset": 15
          },
          "encoding": {
            "x": {
              "field": "_Target",
              "title": null,
              "axis": null
            }
          }
        },
        {
          "mark": {
            "type": "tick",
            "color": "#454545",
            "height": 40,
            "thickness": 1
          },
          "encoding": {
            "x": {
              "field": "_Target",
              "title": null,
              "axis": null
            },
            "y": {}
          }
        },
        {
          "mark": {
            "type": "text",
            "color": "#454545",
            "yOffset": -30,
            "size": 14,
            "align": "center",
            "fontWeight": 600
          },
          "encoding": {
            "text": {
              "field": "_Target",
              "type": "quantitative",
              "format": ",.0f"
            },
            "x": {
              "field": "_Target",
              "type": "quantitative",
              "title": null,
              "axis": null
            },
            "y": {}
          }
        },
        {
          "mark": {
            "type": "rect",
            "color": {
              "expr": "datum['__1__'] > datum['_Target'] ? '#ec7629' : '#454545'"
            }
          },
          "encoding": {}
        },
        {
          "mark": {
            "type": "text",
            "size": 18,
            "color": "#ffffff",
            "xOffset": -20
          }
        }
      ],
      "encoding": {
        "text": {
          "field": "__1__",
          "type": "quantitative",
          "format": ",.1f",
          "aggregate": "mean"
        },
        "x": {
          "field": "__1__",
          "type": "quantitative"
        }
      }
    },
    {
      "title": {
        "text": "Maximum points scored each week",
        "anchor": "middle",
        "offset": 15,
        "color": "#454545",
        "subtitleColor": "#454545"
      },
      "transform": [
        {
          "filter": "isValid(datum['__2__'])"
        }
      ],
      "width": 400,
      "height": 100,
      "layer": [
        {
          "mark": {
            "type": "line",
            "color": "#ec7629"
          },
          "encoding": {
            "x": {
              "field": "__0__",
              "axis": {"title": null}
            },
            "y": {
              "field": "__2__",
              "type": "quantitative",
              "aggregate": "max",
              "title": null,
              "axis": {
                "title": null,
                "format": ",.0f"
              }
            }
          }
        },
        {
          "mark": {
            "type": "text",
            "fontWeight": 600,
            "size": 10,
            "yOffset": -10,
            "color": "#454545"
          },
          "encoding": {
            "text": {
              "field": "__2__",
              "format": ",.0f"
            },
            "x": {
              "field": "__0__",
              "axis": {"title": null}
            },
            "y": {
              "field": "__2__",
              "type": "quantitative",
              "title": null,
              "axis": {
                "title": null,
                "format": ",.0f"
              }
            }
          }
        }
      ]
    }
  ]
}